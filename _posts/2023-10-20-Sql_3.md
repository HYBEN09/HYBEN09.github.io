---
title: SQL í•¨ìˆ˜ë€?
author: hyebeen
date: 2023-10-20 11:42:00 +0800
categories: [SQL, SQLëª…ë ¹ì–´]
tags: [sql]
image: /assets/img/posts/sql.png
---

# SQL(Structured Query Language) í•¨ìˆ˜

> ğŸ“š [SQL - w3schools](https://www.w3schools.com/sql/default.asp)

## SQL í•¨ìˆ˜ë€?

> ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê³  ì¡°ì‘í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” íŠ¹ë³„í•œ ì—°ì‚° ë˜ëŠ” ë™ì‘

### 1. ë°ì´í„° íƒ€ì… í•¨ìˆ˜

- ë¬¸ì : CHAR(ê°’) : ë¬¸ì íƒ€ì… ì§€ì • 2000ë°”ì´íŠ¸ @
- ë¬¸ì : VARCHAR2(ê°’) : ë¬¸ì íƒ€ì… ì§€ì • 4000ë°”ì´íŠ¸
- ìˆ«ì : Oracleì—ì„œëŠ” NUMBER(ì •ìˆ˜ ìë¦¿ìˆ˜, ì†Œìˆ˜ ìë¦¿ìˆ˜), MySQLì€ INTì‚¬ìš©
- ë‚ ì§œ : DATE()
- ì‹œê°„ : TIME()

---

### 2. ë¬¸ìì—´ ì²˜ë¦¬

- **CONCAT**('abc', 'def') â†’ 'abcdef' : ë‘ ë¬¸ìì—´ì„ ì—°ê²°í•©ë‹ˆë‹¤.
- **LOWER**('ABC') â†’ 'abc' : ì†Œë¬¸ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤
- **UPPER**('abc') â†’ 'ABC' : ëŒ€ë¬¸ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
- **INITCAP**('abc') â†’ 'Abc' : ë¬¸ìì—´ì˜ ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
- **SUBSTR**('hello world', 1, 5) â†’ 'hello' : ë¬¸ìì—´ì„ ìë¥¼ ë•Œ ë§ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ 1ì€ ì‹œì‘ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ê³ , 5ëŠ” ìë¥¼ ë¬¸ìì—´ì˜ ê¸¸ì´ì…ë‹ˆë‹¤
- **REPLACE**('hello world', 'world', 'SQL') â†’ 'hello SQL' : ëŒ€ìƒ ë¬¸ìì—´ì—ì„œ íŠ¹ì • ê°’ì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ êµì²´í•©ë‹ˆë‹¤.
- **LENGTH**('hello') â†’ 5 : ë¬¸ìì—´ì˜ ê¸¸ì´ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. COUNTì™€ ë¹„êµí•´ì„œ ê¸°ì–µí•´ì£¼ì„¸ìš”!
- **COUNT** : í–‰ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
- **INSTR**('ABCDEF', 'B') â†’ 2 : ë¬¸ìì—´ì—ì„œ íŠ¹ì • ë¬¸ì ë˜ëŠ” ë¶€ë¶„ ë¬¸ìì—´ì˜ ìœ„ì¹˜ë¥¼ êµ¬í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ INDEXëŠ” 1ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.

---

### 3. ìˆ«ì í•¨ìˆ˜

- **ROUND**(ë°˜ì˜¬ë¦¼í•  ìˆ«ì, ìë¦¿ìˆ˜) : ìˆ«ìë¥¼ ë°˜ì˜¬ë¦¼, ì˜ˆë¥¼ ë“¤ì–´, ROUND(3.14159, 2)ëŠ” 3.14ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- **TRUNC**(ì ˆì‚­í•  ìˆ«ì, ìë¦¿ìˆ˜) : ìˆ«ìë¥¼ ì ˆì‚­, 0ì´ ì†Œìˆ«ì  ì²«ì§¸ìë¦¬. ì˜ˆë¥¼ ë“¤ì–´, TRUNC(3.14159, 2)ëŠ” 3.14ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
- **MOD**(ìˆ˜, ë‚˜ëˆ„ëŠ” ê°’) : ë‚˜ë¨¸ì§€ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, MOD(10, 3)ì€ 1ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- **POWER**(ìˆ˜, ìŠ¹ìˆ˜) : ìˆ«ìë¥¼ ì œê³±í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, POWER(2, 3)ì€ 8ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
- **SQRT** : ìˆ«ìì˜ ì œê³±ê·¼ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

> ğŸ“ƒ ì°¸ê³ : [ì˜¤ë¼í´(Oracle) SQL í•¨ìˆ˜ ë¦¬ìŠ¤íŠ¸](https://statwith.tistory.com/341)

## SQL í•¨ìˆ˜ë¥¼ ì‹¤ìŠµí•´ë³´ì

### 1. SUBSTR(ì»¬ëŸ¼, START, LENTH) : ìŠ¬ë¼ì´ì‹±

- SUBSTR í•¨ìˆ˜ëŠ” ë¬¸ìì—´ì—ì„œ ë¶€ë¶„ ë¬¸ìì—´ì„ ì¶”ì¶œí•˜ëŠ” ë° ì‚¬ìš©

```sql
SUBSTR('ì›ë³¸ë¬¸ìì—´', 'ì‹œì‘ìœ„ì¹˜', 'ì¶”ì¶œí• ê¸¸ì´')
```

#### 1-1) ê¸°ë³¸ ì˜ˆì œ

```sql
SELECT SSUBSTR('Hello, World!', 1, 5); // Hello
```

#### 1-2) ì‘ìš© ì˜ˆì œ

**ì˜ˆì‹œ)** ê³ ê°ì˜ ì´ë¦„ê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ ê°€ì§€ ì •ë³´ë¥¼ ì¶”ì¶œ

```sql
SELECT CustomerID, CustomerName,
       LENGTH(CustomerName) AS ì´ë¦„ê¸¸ì´,
       SUBSTR(CustomerName, 6) AS ìë¥¸ì´ë¦„,
       REPLACE(CustomerName, SUBSTR(CustomerName, 0, 6), '******') AS ë³„í‘œì±„ìš´ì´ë¦„
FROM Customers;
```

ì—¬ê¸°ì„œ ì‚¬ìš©í•œ SUBSTR ê°™ì€ ê²½ìš°

- Oracleì€ SUBSTR, SUBSTRB
- MsSQLì€ SUBSTRING
- MySQLì€ SUBSTRING, SUBSTR, MID

ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

---

### 2. ë‚ ì§œ

- DATE() : í˜„ì¬ ë‚ ì§œ. ì˜ˆë¥¼ ë“¤ì–´, "2023-10-30"
- TIME() : í˜„ì¬ ì‹œê°„. ì˜ˆë¥¼ ë“¤ì–´, "15:30:00"

#### 2-1) ê¸°ë³¸ ì˜ˆì œ

```sql
SELECT DATE();
```

```sql
SELECT TIME();
```

#### 2-1) ì‘ìš© ì˜ˆì œ

> ë‚ ì§œ ë° ì‹œê°„ ê¸°ë¡

```sql
INSERT INTO Orders (OrderID, CustomerID, EmployeeID, OrderDate, ShipperID)
VALUES (10001, 91, 8, DATE(), 3);
-- ì£¼ë¬¸ì´ ë°œìƒí•œ í˜„ì¬ ë‚ ì§œ ë° ì‹œê°„ì„ ì£¼ë¬¸ ë°ì´í„°ì— ê¸°ë¡
```

> ë³´ê³ ì„œ ìƒì„±

```sql
INSERT INTO Orders (OrderID, CustomerID, EmployeeID, OrderDate, ShipperID)
VALUES (10001, 91, 8, DATE(), 3);
-- 2023ë…„ 1ì›” 1ì¼ ì´í›„ì˜ ì£¼ë¬¸ì„ ë³´ê³ ì„œë¡œ ì¶”ì¶œ
```

---

### 3. í†µê³„

#### 3-1) SQL í†µê³„ í•¨ìˆ˜

- **AVG():** í‰ê·  ê°’ ê³„ì‚°
- **SUM():** í•©ê³„ë¥¼ ê³„ì‚°
- **COUNT():** í–‰ì˜ ê°œìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
- **MIN():** ìµœì†Ÿê°’ì„ ì°¾ìŠµë‹ˆë‹¤.
- **MAX():** ìµœëŒ“ê°’ì„ ì°¾ìŠµë‹ˆë‹¤.
- **STDDEV():** ëª¨ì§‘ë‹¨ì˜ í‘œì¤€ í¸ì°¨ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
- **VARIANCE():** ëª¨ì§‘ë‹¨ì˜ ë¶„ì‚°ì„ ê³„ì‚°í•©ë‹ˆë‹¤.
- **MEDIAN():** ì¤‘ì•™ê°’ (ì¤‘ìœ„ìˆ˜)ì„ ì°¾ìŠµë‹ˆë‹¤.

#### 3-2) ê¸°ë³¸ ì˜ˆì œ

```sql
SELECT MAX(CustomerID) AS ìµœëŒ“ê°’ FROM Customers;
SELECT SUM(CustomerID) AS ì „ì²´í•© FROM Customers;
SELECT MIN(CustomerID) AS ìµœì†Ÿê°’ FROM Customers;
SELECT COUNT(CustomerID) AS ì „ì²´í–‰ì˜ìˆ˜ FROM Customers;
SELECT AVG(CustomerID) AS í‰ê·  FROM Customers;
```

#### 3-3) ì‘ìš© ì˜ˆì œ

```sql
INSERT INTO Products(ProductID, ProductName, SupplierID, CategoryID, Unit, Price )
VALUES('0', 'hyebeen', '2', '7', '77 boxes','500')
```

> ê°’ì˜ í‰ê· 

```sql
SELECT AVG(Price) FROM Products;  //34.90653846153848
```

> "ProductName" ì—´ì˜ í–‰ ìˆ˜

```sql
SELECT COUNT(ProductName) FROM Products;  //77
```
