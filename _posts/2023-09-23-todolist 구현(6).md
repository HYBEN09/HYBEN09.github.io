---
title: TodoList êµ¬í˜„í•´ë³´ê¸° (6) - ë¡œê·¸ì¸
author: hyebeen
date: 2023-09-23 17:22:00 +0800
categories: [React, TodoList]
tags: [react]
image: /assets/img/posts/react.jpeg
---

# Contextì´ìš©í•˜ì—¬ ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„

- Context APIì˜ AuthContextë¥¼ í™œìš©í•˜ì—¬ ë¡œê·¸ì¸ í¼ì—ì„œ ì¸ì¦ ê¸°ëŠ¥ì„ ì‚¬ìš©

## ì´ˆê¸° ìƒíƒœ ì„¤ì •

### 1. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ê°’ì„ ìƒíƒœë¡œ ê´€ë¦¬

```js
const [userInputs, setUserInputs] = useState({
  email: "",
  password: ""
});
```

### 2. ì»¨í…ìŠ¤íŠ¸ì™€ í›… ì‚¬ìš©

- useAuth ì»¤ìŠ¤í…€ í›…ì„ ì‚¬ìš©í•˜ì—¬ signin í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê³ ,
- í˜ì´ì§€ ì´ë™ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” useNavigation í›…ìœ¼ë¡œë¶€í„° navigateTodo í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```js
const { signin } = useAuth();
const { navigateTodo } = useNavigation();
```

### 3. ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬

- ì‚¬ìš©ìê°€ ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ í•„ë“œì— ì…ë ¥í•  ë•Œë§ˆë‹¤ í•´ë‹¹ ê°’ì´ ìƒíƒœì— ì €ì¥

```js
const saveUserInputs = ({ currentTarget }) => {
  const { name, value } = currentTarget;

  setUserInputs((prev) => ({
    ...prev,
    [name]: value
  }));
};
```

### 4. ë¡œê·¸ì¸ ìš”ì²­ ì²˜ë¦¬

- 'ë¡œê·¸ì¸' ë²„íŠ¼ í´ë¦­ ì‹œ signinWithForm í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©°, ì´ë•Œ ì„œë²„ë¡œ ë¡œê·¸ì¸ ìš”ì²­ì´ ì „ì†¡
- ì„±ê³µì ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ë©´ í•  ì¼(Todo) í˜ì´ì§€ë¡œ ì´ë™í•˜ê³ , ì‹¤íŒ¨í•œ ê²½ìš°ì—ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ í‘œì‹œ

```js
const signinWithForm = async () => {
  try {
    await signin(email, password);
    setUserInputs({
      email: "",
      password: ""
    });
    navigateTodo();
  } catch (error) {
    alert("ğŸš« ë¡œê·¸ì¸ ì‹¤íŒ¨:", error);
  }
};
```

### ì „ì²´ ì½”ë“œ

```js
export function SigninForm() {
  const [userInputs, setUserInputs] = useState({
    email: "",
    password: ""
  });

  const { signin } = useAuth();
  const { navigateTodo } = useNavigation();
  const { email, password } = userInputs;

  const saveUserInputs = ({ currentTarget }) => {
    const { name, value } = currentTarget;

    setUserInputs((prev) => ({
      ...prev,
      [name]: value
    }));
  };

  const signinWithForm = async () => {
    try {
      await signin(email, password);
      setUserInputs({
        email: "",
        password: ""
      });
      navigateTodo();
    } catch (error) {
      alert("ğŸš« ë¡œê·¸ì¸ ì‹¤íŒ¨:", error);
    }
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    signinWithForm();
  };

  return (
    <form onSubmit={handleSubmit}>
      <Input
        id="email"
        name="email"
        type="email"
        placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
        value={email}
        onChange={saveUserInputs}
        required
        label="ì´ë©”ì¼"
      />

      <Input
        id="password"
        name="password"
        type="password"
        placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
        value={password}
        onChange={saveUserInputs}
        required
        label="ë¹„ë°€ë²ˆí˜¸"
      />

      <div className="text-center">
        <Button
          type="submit"
          data-testid="signin-button"
          className="bg-sky-500 text-white font-semibold py-3 px-10 rounded-lg hover:bg-sky-600 focus:ring focus:ring-sky-200 dark:focus:ring-yellow-400"
        >
          ë¡œê·¸ì¸
        </Button>
      </div>
    </form>
  );
}
```
